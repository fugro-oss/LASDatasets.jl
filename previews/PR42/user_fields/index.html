<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>User Fields · LASDatasets.jl</title><meta name="title" content="User Fields · LASDatasets.jl"/><meta property="og:title" content="User Fields · LASDatasets.jl"/><meta property="twitter:title" content="User Fields · LASDatasets.jl"/><meta name="description" content="Documentation for LASDatasets.jl."/><meta property="og:description" content="Documentation for LASDatasets.jl."/><meta property="twitter:description" content="Documentation for LASDatasets.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LASDatasets.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../interface/">Interface</a></li><li><a class="tocitem" href="../header/">Header</a></li><li><a class="tocitem" href="../points/">Points</a></li><li><a class="tocitem" href="../vlrs/">Variable Length Records</a></li><li class="is-active"><a class="tocitem" href>User Fields</a></li><li><a class="tocitem" href="../internals/">Internals</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>User Fields</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>User Fields</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/fugro-oss/LASDatasets.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/fugro-oss/LASDatasets.jl/blob/main/docs/src/user_fields.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="User-Defined-Point-Fields"><a class="docs-heading-anchor" href="#User-Defined-Point-Fields">User-Defined Point Fields</a><a id="User-Defined-Point-Fields-1"></a><a class="docs-heading-anchor-permalink" href="#User-Defined-Point-Fields" title="Permalink"></a></h1><p>In a <em>LAS</em> file, the header specifies a data record length, which is the number of bytes used per point record in the file. Note that this number could be larger than the minimal number of bytes needed to store the point format, and if this is the case, the point records will have &quot;extra bytes&quot; associated with them. The <em>LAS</em> 1.4 spec introduces an <em>Extra Bytes VLR</em>, which documents extra fields (which we will refer to as &quot;user fields&quot;) associated to each point record with their name and data type, amongst other information. Note that in legacy versions, you could also store these &quot;extra bytes&quot; for point records, but there is no way to infer what type and what field names they have, so they are saved in the record as &quot;Undocumented Bytes&quot;.</p><p>You can save user fields in your point cloud quite easily by including them as columns in your point cloud table. For example, you can save the user field &quot;thing&quot; along with your points and their classifications as follows:</p><pre><code class="language-julia hljs">pc = Table(position = rand(SVector{3, Float64}, 10), classification = rand(UIn8, 10), thing = rand(10))
save_las(&quot;my_pc.las&quot;, pc)</code></pre><p>Under the hood, <em>LASDatasets.jl</em> will automatically create the appropriate header fields for data record lengths etc. and will also create the appropriate Extra Bytes <em>VLRs</em> and save them in your <em>LAS</em> file. </p><p>You can also add user fields to your <em>LAS</em> datasets as you go by calling <code>add_column!</code> with your new data and column name:</p><pre><code class="language-julia hljs">add_column!(las, :thing, rand(10))</code></pre><p>This will add the user field &quot;thing&quot; to your dataset <code>las</code> and append the appropriate Extra Bytes <em>VLRs</em> to it. </p><p>Reading user fields from <em>LAS</em> files is just as easy, since you can simply specify the desired user fields in your requested columns, e.g.</p><pre><code class="language-julia hljs">las = load_las(&quot;my_pc.las&quot;, [:position, :classification, :thing])</code></pre><p>Note that user fields can also be vectors of static vectors, and once again <em>LASDatasets.jl</em> will automatically save the appropriate Extra Bytes <em>VLRs</em> for you so you can specify them as you would any other user field:</p><pre><code class="language-julia hljs">using StaticArrays
pc = Table(position = rand(SVector{3, Float64}, 10), classification = rand(UIn8, 10), thing = rand(SVector{3, Float64}, 10))
save_las(&quot;my_pc.las&quot;, pc)
las = load_las(&quot;my_pc.las&quot;, [:position, :classification, :thing])</code></pre><p>It&#39;s also worth mentioning that you can save &quot;undocumented bytes&quot; to any point as well by labelling them with the column <code>:undocumented_bytes</code>. In practice, it is possible to have point records with user fields and undocumented bytes, just one or the other, or neither (just the <em>LAS</em> point itself). For more details see <a href="../internals/#point-records">here</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../vlrs/">« Variable Length Records</a><a class="docs-footer-nextpage" href="../internals/">Internals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Tuesday 8 October 2024 23:17">Tuesday 8 October 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
